<div class="wrapper">
  <app-barra-lateral></app-barra-lateral>

  <div class="main">
    <nav class="navbar navbar-expand-lg" style="background-color: #001f3f;">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img src="logo/logoLexVargasV.png" alt="LexVargas Logo" width="200" class="d-inline-block align-text-top">
        </a>
      </div>
    </nav>

    <div class="p-3">
      <!-- Formulario para crear el expediente -->
      <form *ngIf="!idExpedienteCreado" (ngSubmit)="onSubmit()" class="form-container">
        <h3>Primero tienes que crear Expediente</h3>
        
        <div class="form-group">
          <label for="nombre">Nombre del Cliente:</label>
          <input type="text" [(ngModel)]="expediente.nombreExpediente" name="nombre" required class="form-control">
        </div>

        <div class="form-group">
          <label for="numero">Número de Expediente:</label>
          <input type="text" [(ngModel)]="expediente.numeroExpediente" name="numero" required class="form-control">
          <div *ngIf="expediente.numeroExpediente">Este campo es obligatorio.</div>
        </div>

        <div class="form-group">
          <label for="estado">Estado:</label>
          <input type="text" [(ngModel)]="expediente.estado" name="estado" required class="form-control">
        </div>

        <div class="form-group">
          <label for="descripcion">Descripción:</label>
          <textarea [(ngModel)]="expediente.descripcion" name="descripcion" class="form-control"></textarea>
        </div>

        <button type="submit" class="btn btn-primary btn-submit">Crear Expediente</button>
      </form>

      <!-- Formulario para cargar documentos (solo visible si se ha creado el expediente) -->
      <form *ngIf="idExpedienteCreado" (ngSubmit)="subirDocumentos()" class="form-container mt-4">
        <h3>Ahora agrega los documentos al expediente</h3>
        <div class="form-group">
          <label>Seleccione los documentos:</label>
          <div *ngFor="let documento of ['CURP', 'Curriculum Vitae', 'Comprobante de Domicilio', 'Número de Seguridad Social (IMSS)', 'Identificación Oficial']">
            <label for="{{documento}}">{{documento}}:</label>
            <input type="file" id="{{documento}}" (change)="onFileSelected($event, documento)" accept="application/pdf" class="form-control-file" required>
            <div *ngIf="archivos[documento]">
              <p>{{documento}} cargado.</p>
            </div>
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-submit">Subir Documentos</button>
      </form>
    </div>
  </div>
</div>
