<div class="wrapper">
  <app-barra-lateral></app-barra-lateral>

  <div class="main">
    <nav class="navbar navbar-expand-lg p-0" style="background-color: #001f3f;">
      <div class="container-fluid p-0">
        <a class="navbar-brand" href="#">
          <img src="logo/logoLexVargasV.png" alt="LexVargas Logo" width="200" class="d-inline-block align-text-top">
        </a>
      </div>
    </nav>

    <div class="p-3">
      <form class="formulario" id="citaForm">
        <div class="container mt-2">
          <div class="card">
            <div class="card-body">
              <h2 class="card-title" style="color: #BF913B; text-align: center;">Solicitud de Cita</h2>
              <hr class="divider">

              <h4>Información del Cliente</h4>
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre del Cliente</label>
                <input type="text" class="form-control" id="nombre" required readonly>
              </div>

              <div class="mb-3">
                <label for="correo" class="form-label">Correo Electrónico</label>
                <input type="email" class="form-control" id="correo" required readonly>
              </div>

              <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" required readonly>
              </div>

              <h4>Detalles de la Cita</h4>
              <div class="mb-3">
                <label for="motivo" class="form-label">Motivo de la Cita</label>
                <textarea class="form-control" id="motivo" rows="3" required></textarea>
              </div>

              <div class="mb-3">
                <label for="servicio" class="form-label">Selecciona un Servicio</label>
                <select class="form-control" id="servicio" name="servicio" (change)="onServicioSeleccionado($event)" required>
                  <option value="">Selecciona un servicio</option>
                  <option *ngFor="let servicio of servicioService.servicios" [value]="servicio.idServicio">
                    {{ servicio.nombreServicio }}
                  </option>
                </select>                
              </div>
          
              <div class="mb-3" id="abogadosDisponibles">
                <label for="abogado" class="form-label">Selecciona un Abogado</label>
                <select class="form-control" id="abogado" name="abogado" required [(ngModel)]="idAbogadoSeleccionado">
                  <option value="">Selecciona un abogado</option>
                  <option *ngFor="let abogado of especialidades" [value]="abogado.idEmpleado">{{ abogado.nombreEmpleado }} {{ abogado.aPEmpleado }} {{ abogado.aMEmpleado }}</option>
                </select>
              </div>
              
              <div class="mb-3" id="horasDisponibles">
                <label for="hora" class="form-label">Selecciona fecha</label>
                <div class="calendario">
                  <div class="header">
                    <button (click)="cambiarMes(-1)">Anterior</button>
                    <h2>{{ nombreMesActual }} {{ anioActual }}</h2>
                    <button (click)="cambiarMes(1)">Siguiente</button>
                  </div>
                  <table>
                    <thead>
                      <tr>
                        <th *ngFor="let dia of nombresDias">{{ dia }}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let fila of [0, 1, 2, 3, 4, 5]">
                        <td *ngFor="let dia of diasDelMes.slice(fila * 7, fila * 7 + 7)" style="cursor: pointer;">
                          {{ dia !== 0 ? dia : '' }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              
                         
              <div class="mb-3" id="horasDisponibles">
                <label for="hora" class="form-label">Selecciona una Hora</label>
                <select class="form-control" id="hora" name="hora" required [(ngModel)]="selectedHora"
                  [disabled]="!horasDisponibles.length">
                  <option value="">Selecciona una hora</option>
                  <option *ngFor="let hora of horasDisponibles" [value]="hora">{{ hora }}</option>
                </select>
              </div>

              <button type="submit" class="btn btn-primary">Solicitar Cita</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>