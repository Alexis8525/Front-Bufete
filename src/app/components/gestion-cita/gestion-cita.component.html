<div class="wrapper">
  <app-barra-lateral></app-barra-lateral>

  <div class="main">
      <nav class="navbar navbar-expand-lg p-0" style="background-color: #001f3f;">
          <div class="container-fluid p-0">
              <a class="navbar-brand" href="#">
                  <img src="logo/logoLexVargasV.png" alt="LexVargas Logo" width="200" class="d-inline-block align-text-top">
              </a>
          </div>
      </nav>

      <div class="p-3">

        <app-breadcrumbs></app-breadcrumbs>

          <h2 class="mb-4">Mis Citas</h2>

          <!-- Iterar sobre las citas y mostrar cada una en una card -->
          <div class="row">
              <div class="col-md-4 mb-3" *ngFor="let cita of citas">
                  <div class="card h-100">
                      <div class="card-body">
                          <h5 class="card-title">{{ cita.motivo }}</h5>
                          <p class="card-text">
                              <strong>Fecha:</strong> {{ cita.fechaAgenda }}<br>
                              <strong>Hora:</strong> {{ cita.horaInicio }} - {{ cita.horaFinal }}<br>
                              <strong>Abogado:</strong> {{ cita.abogadoNombre }}<br>
                              <strong>Estado:</strong> {{ cita.estado | titlecase }}
                          </p>
                      </div>
                      <div class="card-footer">
                          <button class="btn btn-info btn-sm me-2" (click)="verDetalles(cita)">Ver Detalles</button>
                          <button *ngIf="cita.estado === 'programada'" class="btn btn-danger btn-sm" (click)="cancelarCita(cita.idCita)">Cancelar</button>
                      </div>
                  </div>
              </div>
          </div>

          <!-- Mostrar mensaje cuando no hay citas -->
          <div *ngIf="citas.length === 0" class="text-center mt-4">
              <p>No tienes citas programadas.</p>
          </div>
      </div>
  </div>
</div>
