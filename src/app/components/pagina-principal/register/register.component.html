<app-nav-barra class="nav-barra"></app-nav-barra>

<div class="wrapper">
  <div class="main">
    <div class="container mt-5 register-container">
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <div class="card shadow border-0">
          <div class="card-header text-center">
            <h5>Registro de Cliente</h5>
          </div>
          <div class="card-body">

            <!-- Nombre -->
            <div class="form-group mb-3">
              <label for="nombreCliente">Nombre</label>
              <input id="nombreCliente" type="text" class="form-control" formControlName="nombreCliente" placeholder="Nombre" />
              <small *ngIf="registerForm.get('nombreCliente')?.invalid && (registerForm.get('nombreCliente')?.touched || registerForm.get('nombreCliente')?.dirty)">
                <div *ngIf="registerForm.get('nombreCliente')?.hasError('required')">Este campo es obligatorio.</div>
              </small>
            </div>

            <!-- Apellido Paterno -->
            <div class="form-group mb-3">
              <label for="aPCliente">Apellido Paterno</label>
              <input id="aPCliente" type="text" class="form-control" formControlName="aPCliente" placeholder="Apellido Paterno" />
              <small *ngIf="registerForm.get('aPCliente')?.invalid && (registerForm.get('aPCliente')?.touched || registerForm.get('aPCliente')?.dirty)">
                <div *ngIf="registerForm.get('aPCliente')?.hasError('required')">Este campo es obligatorio.</div>
              </small>
            </div>

            <!-- Apellido Materno -->
            <div class="form-group mb-3">
              <label for="aMCliente">Apellido Materno</label>
              <input id="aMCliente" type="text" class="form-control" formControlName="aMCliente" placeholder="Apellido Materno" />
              <small *ngIf="registerForm.get('aMCliente')?.invalid && (registerForm.get('aMCliente')?.touched || registerForm.get('aMCliente')?.dirty)">
                <div *ngIf="registerForm.get('aMCliente')?.hasError('required')">Este campo es obligatorio.</div>
              </small>
            </div>

            <!-- Dirección -->
            <div class="form-group mb-3">
              <label for="direccion">Dirección</label>
              <input id="direccion" type="text" class="form-control" formControlName="direccion" placeholder="Dirección" />
              <small *ngIf="registerForm.get('direccion')?.invalid && (registerForm.get('direccion')?.touched || registerForm.get('direccion')?.dirty)">
                <div *ngIf="registerForm.get('direccion')?.hasError('required')">Este campo es obligatorio.</div>
              </small>
            </div>

            <!-- Correo -->
            <div class="form-group mb-3">
              <label for="correo">Correo Electrónico</label>
              <input id="correo" type="email" class="form-control" formControlName="correo" placeholder="correo@ejemplo.com" />
              <small *ngIf="registerForm.get('correo')?.invalid && (registerForm.get('correo')?.touched || registerForm.get('correo')?.dirty)">
                <div *ngIf="registerForm.get('correo')?.hasError('required')">Este campo es obligatorio.</div>
                <div *ngIf="registerForm.get('correo')?.hasError('email')">Correo no válido.</div>
              </small>
            </div>

            <!-- Teléfono -->
            <div class="form-group mb-3">
              <label for="telefono">Teléfono</label>
              <input id="telefono" type="text" class="form-control" formControlName="telefono" placeholder="Teléfono" />
              <small *ngIf="registerForm.get('telefono')?.invalid && (registerForm.get('telefono')?.touched || registerForm.get('telefono')?.dirty)">
                <div *ngIf="registerForm.get('telefono')?.hasError('required')">Este campo es obligatorio.</div>
              </small>
            </div>

            <!-- Contraseña -->
            <div class="form-group mb-3">
              <label for="pass">Contraseña</label>
              <input id="pass" type="password" class="form-control" formControlName="pass" placeholder="••••••••" />
              <small *ngIf="registerForm.get('pass')?.invalid && (registerForm.get('pass')?.touched || registerForm.get('pass')?.dirty)">
                <div *ngIf="registerForm.get('pass')?.hasError('required')">Este campo es obligatorio.</div>
                <div *ngIf="registerForm.get('pass')?.hasError('minlength')">Mínimo 8 caracteres.</div>
              </small>
            </div>

            <!-- Confirmar Contraseña -->
            <div class="form-group mb-3">
              <label for="confirmPassword">Confirmar Contraseña</label>
              <input id="confirmPassword" type="password" class="form-control" formControlName="confirmPassword" placeholder="Repite tu contraseña" />
              <small *ngIf="registerForm.hasError('passwordMismatch')">Las contraseñas no coinciden.</small>
            </div>

            <!-- reCAPTCHA -->
            <div class="form-group mb-3">
              <re-captcha 
                (resolved)="resolved($event)" 
                [siteKey]="'6LemDAArAAAAAHQnA85NNufejIN6awF7v8zS-Cu6'">
              </re-captcha>
              <small *ngIf="registerForm.get('recaptcha')?.invalid && (registerForm.get('recaptcha')?.dirty || registerForm.get('recaptcha')?.touched)">
                <div>Por favor, verifica el reCAPTCHA.</div>
              </small>
            </div>

            <!-- Botón -->
            <button type="submit" class="btn btn-primary btn-submit w-100 mt-3" [disabled]="registerForm.invalid || !captchaResolved">
              Registrarse
            </button>

          </div>
        </div>
      </form>
    </div>
  </div>
</div>
